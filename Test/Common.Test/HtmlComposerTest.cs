using System.Threading.Tasks;
using Exebite.Common;
using Xunit;

namespace Common.Test
{
    public class HtmlComposerTest
    {
        //comendet out until RazorLight is updated

        //private readonly IHtmlComposer _emailComposer;

        //public HtmlComposerTest()
        //{
        //    _emailComposer = new HtmlComposer(new RazorLightEngineBuilderFactory());
        //}

        //[Fact]
        //public async Task ComposeEmail_SimpleRendering_Calculation()
        //{
        //    string tt = "@(1+1)";

        //    var calculatedAddition = await _emailComposer.ComposeFromString<object>(tt, null);

        //    Assert.Equal("2", calculatedAddition);
        //}

        //[Fact]
        //public async Task ComposeEmail_SimpleRendering_Calculation2()
        //{
        //    string tt = "@(1+1)";

        //    var calculatedAddition = await _emailComposer.ComposeFromString<object>(tt, null);

        //    Assert.Equal("2", calculatedAddition);
        //}

        //[Fact]
        //public async Task ComposeEmail_SimpleRendering_Calculation3()
        //{
        //    string tt = "@(1+1)";

        //    var calculatedAddition = await _emailComposer.ComposeFromString<object>(tt, null);

        //    Assert.Equal("2", calculatedAddition);
        //}

        //[Fact]
        //public async Task ComposeEmail_SimpleCalculation_StringConcatenation()
        //{
        //    string tt = "@(\"1\"+\"1\")";

        //    var calculatedAddition = await _emailComposer.ComposeFromString<object>(tt, null);

        //    Assert.Equal("11", calculatedAddition);
        //}


        //[Fact]
        //public async Task ComposeEmail_ComposeFromCshtml_SimpleRender()
        //{
        //    var calculatedAddition = await _emailComposer.ComposeFromPath<object>("Test.cshtml", null);

        //    Assert.Equal("Test string", calculatedAddition);
        //}

        //[Fact]
        //public async Task ComposeEmail_ComposeFromCshtml_SimpleRenderWithCalculation()
        //{
        //    var calculatedAddition = await _emailComposer.ComposeFromPath<object>("Test2.cshtml", null);

        //    Assert.Equal("2", calculatedAddition);
        //}

    }
}
